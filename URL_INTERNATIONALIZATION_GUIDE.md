# URL国际化功能使用指南

## 🎯 功能说明

您的网站现在支持基于URL的多语言功能！用户可以通过URL直接访问不同语言版本的页面。

## 🔗 URL结构

### 支持的URL格式：

| URL | 语言 | 页面 |
|-----|------|------|
| `/` | 自动重定向 | 根据用户偏好重定向到 `/zh` 或 `/en` |
| `/zh` | 中文 | 中文首页 |
| `/en` | 英文 | 英文首页 |
| `/zh/media` | 中文 | 中文媒体页面 |
| `/en/media` | 英文 | 英文媒体页面 |

### 自动重定向：

- 访问 `/` → 自动重定向到 `/zh` (默认语言)
- 访问 `/media` → 自动重定向到 `/zh/media`
- 如果用户之前选择过英文，会自动重定向到相应的英文页面

## ✨ 主要特性

1. **SEO友好**: 每种语言都有独立的URL，搜索引擎可以正确索引
2. **书签支持**: 用户可以直接收藏特定语言的页面
3. **分享功能**: 分享链接时会保持当前的语言设置
4. **浏览器前进/后退**: 完美支持浏览器导航
5. **自动记忆**: 系统会记住用户的语言偏好

## 🔄 语言切换

### 用户操作：
1. 点击页面右上角的语言切换器
2. 选择想要的语言 (🇨🇳 中文 或 🇺🇸 English)
3. 页面会自动跳转到对应语言的URL

### 系统行为：
- 切换语言时，URL会自动更新
- 例如：从 `/zh/media` 切换到英文 → `/en/media`
- 用户的语言偏好会保存到浏览器

## 🛠️ 技术实现

### 核心文件：

1. **`middleware.ts`** - 处理URL重定向逻辑
2. **`app/[lang]/layout.tsx`** - 动态语言路由布局
3. **`app/[lang]/page.tsx`** - 语言特定的首页
4. **`app/[lang]/media/page.tsx`** - 语言特定的媒体页面

### 工作流程：

1. 用户访问任何URL
2. 中间件检查URL是否包含语言前缀
3. 如果没有，自动重定向到默认语言路径
4. React组件接收语言参数并渲染对应内容

## 🚀 开发者使用

### 创建新页面：
在 `app/[lang]/` 目录下创建新页面，例如：
```
app/[lang]/about/page.tsx  → 支持 /zh/about 和 /en/about
```

### 获取当前语言：
```tsx
export default function MyPage({ params }: { params: { lang: Language } }) {
  const currentLang = params.lang; // 'zh' 或 'en'
}
```

### 生成语言相关链接：
```tsx
<Link href={`/${currentLang}/media`}>媒体中心</Link>
```

## 🎉 用户体验

- **直观的URL**: 用户可以从URL直接看出当前的语言
- **无缝切换**: 切换语言时保持在当前页面类型
- **快速访问**: 可以直接访问任何语言的任何页面
- **智能重定向**: 系统会自动引导用户到正确的页面

现在您的网站拥有了专业级的多语言URL支持！🌐 